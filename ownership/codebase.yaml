# Codebase Ownership Matrix
# Defines which team owns which directories and file patterns
# Used to prevent conflicts during parallel execution

ownership:
  version: "1.0"

  rules:
    # Pillar 1: Organizational Intelligence
    - team: "structure_engineering"
      directories:
        - "organization/"
        - "src-tauri/src/departments/"
      patterns:
        - "**/organization/**"
        - "**/departments/**"
      exclusive: true

    - team: "role_identity"
      directories:
        - "roles/"
        - "src-tauri/src/roles/"
      patterns:
        - "**/roles/**"
      exclusive: true

    - team: "governance"
      directories:
        - "policies/"
        - "src-tauri/src/governance/"
      patterns:
        - "**/policies/**"
        - "**/governance/**"
      exclusive: true

    # Pillar 2: Autonomous Operations
    - team: "event_automation"
      directories:
        - "src-tauri/src/cronos/"
        - "src-tauri/src/events/"
        - "cronos/"
      patterns:
        - "**/cronos/**"
        - "**/events/**"
      exclusive: true

    - team: "quality_automation"
      directories:
        - "quality/"
        - "src-tauri/src/quality/"
      patterns:
        - "**/quality/**"
      exclusive: true

    - team: "resource_optimization"
      directories:
        - "src-tauri/src/usage/"
        - "src-tauri/src/optimization/"
      patterns:
        - "**/usage/**"
        - "**/optimization/**"
      exclusive: true

    - team: "integration"
      directories:
        - "src-tauri/src/mcp/"
        - "src-tauri/src/a2a/"
      patterns:
        - "**/mcp/**"
        - "**/a2a/**"
      exclusive: true

    # Pillar 3: Human-AI Collaboration
    - team: "strategic_direction"
      directories:
        - "goals/"
        - "src-tauri/src/goals/"
      patterns:
        - "**/goals/**"
      exclusive: true

    - team: "exception_escalation"
      directories:
        - "escalation/"
        - "src-tauri/src/escalation/"
      patterns:
        - "**/escalation/**"
      exclusive: true

    - team: "trust_autonomy"
      directories:
        - "trust/"
        - "src-tauri/src/trust/"
      patterns:
        - "**/trust/**"
      exclusive: true

    # Foundation
    - team: "platform_engineering"
      directories:
        - "src-tauri/src/core/"
        - "src/components/core/"
      patterns:
        - "src-tauri/src/lib.rs"
        - "src-tauri/src/main.rs"
      exclusive: false  # May need cross-team work requests

    - team: "decision_logging"
      directories:
        - "decisions/"
        - "src-tauri/src/decisions/"
      patterns:
        - "**/decisions/**"
      exclusive: true

    # Support
    - team: "talent_operations"
      directories:
        - "app/agents/"
      patterns:
        - "**/agents/*/CLAUDE.md"
        - "**/agents/*/agent.json"
      exclusive: false  # All teams need to modify their own agents

  # Shared files require work request from affected teams
  shared:
    - path: "src-tauri/src/config/mod.rs"
      owners:
        - "platform_engineering"
        - "structure_engineering"
        - "role_identity"
        - "governance"

    - path: "src/types/index.ts"
      owners:
        - "platform_engineering"
        - "structure_engineering"
        - "role_identity"
        - "governance"

    - path: "src-tauri/src/lib.rs"
      owners:
        - "platform_engineering"
